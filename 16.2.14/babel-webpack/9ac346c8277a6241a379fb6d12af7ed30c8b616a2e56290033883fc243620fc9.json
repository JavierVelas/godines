{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductosComponent = class ProductosComponent {\n  constructor(productoService) {\n    this.productoService = productoService;\n    this.productos = [];\n    this.newProducto = {};\n    this.editingProducto = null;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.loadProductos();\n  }\n  loadProductos() {\n    this.productosService.getProductos().subscribe(data => {\n      this.productos = data;\n    }, err => {\n      console.error('Error obteniendo productos:', err);\n      this.error = 'Error en el servidor al obtener productos.';\n    });\n  }\n  createProducto() {\n    this.productosService.createProducto(this.newProducto).subscribe(data => {\n      this.productos.push(data);\n      this.newProducto = {};\n    }, err => {\n      console.error('Error creando producto:', err);\n      this.error = 'Error en el servidor al crear producto.';\n    });\n  }\n  editProducto(producto) {\n    this.editingProducto = {\n      ...producto\n    };\n  }\n  updateProducto() {\n    this.productosService.updateProducto(this.editingProducto.id, this.editingProducto).subscribe(data => {\n      const index = this.productos.findIndex(p => p.id === this.editingProducto.id);\n      if (index !== -1) {\n        this.productos[index] = data;\n      }\n      this.editingProducto = null;\n    }, err => {\n      console.error('Error editando producto:', err);\n      this.error = 'Error en el servidor al editar producto.';\n    });\n  }\n  deleteProducto(id) {\n    this.productosService.deleteProducto(id).subscribe(data => {\n      this.productos = this.productos.filter(p => p.id !== id);\n    }, err => {\n      console.error('Error eliminando producto:', err);\n      this.error = 'Error en el servidor al eliminar producto.';\n    });\n  }\n};\nProductosComponent = __decorate([Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})], ProductosComponent);\nexport { ProductosComponent };","map":{"version":3,"names":["Component","ProductosComponent","constructor","productoService","productos","newProducto","editingProducto","error","ngOnInit","loadProductos","productosService","getProductos","subscribe","data","err","console","createProducto","push","editProducto","producto","updateProducto","id","index","findIndex","p","deleteProducto","filter","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\980030881\\OneDrive\\Escritorio\\proyecto_web\\frontend\\componentes\\productos\\productos.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ProductosService } from 'src/app/services/productos.service';\n\n@Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})\nexport class ProductosComponent implements OnInit {\n  productos: any[] = [];\n  newProducto: any = {};\n  editingProducto: any = null;\n  error = '';\n\n  constructor(private productoService: ProductosService) { }\n\n  ngOnInit(): void {\n    this.loadProductos();\n  }\n\n  loadProductos(): void {\n    this.productosService.getProductos().subscribe(\n      data => {\n        this.productos = data;\n      },\n      err => {\n        console.error('Error obteniendo productos:', err);\n        this.error = 'Error en el servidor al obtener productos.';\n      }\n    );\n  }\n\n  createProducto(): void {\n    this.productosService.createProducto(this.newProducto).subscribe(\n      data => {\n        this.productos.push(data);\n        this.newProducto = {};\n      },\n      err => {\n        console.error('Error creando producto:', err);\n        this.error = 'Error en el servidor al crear producto.';\n      }\n    );\n  }\n\n  editProducto(producto: any): void {\n    this.editingProducto = { ...producto };\n  }\n\n  updateProducto(): void {\n    this.productosService.updateProducto(this.editingProducto.id, this.editingProducto).subscribe(\n      data => {\n        const index = this.productos.findIndex(p => p.id === this.editingProducto.id);\n        if (index !== -1) {\n          this.productos[index] = data;\n        }\n        this.editingProducto = null;\n      },\n      err => {\n        console.error('Error editando producto:', err);\n        this.error = 'Error en el servidor al editar producto.';\n      }\n    );\n  }\n\n  deleteProducto(id: number): void {\n    this.productosService.deleteProducto(id).subscribe(\n      data => {\n        this.productos = this.productos.filter(p => p.id !== id);\n      },\n      err => {\n        console.error('Error eliminando producto:', err);\n        this.error = 'Error en el servidor al eliminar producto.';\n      }\n    );\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQjD,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAkB;EAM7BC,YAAoBC,eAAiC;IAAjC,KAAAA,eAAe,GAAfA,eAAe;IALnC,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,WAAW,GAAQ,EAAE;IACrB,KAAAC,eAAe,GAAQ,IAAI;IAC3B,KAAAC,KAAK,GAAG,EAAE;EAE+C;EAEzDC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAaA,CAAA;IACX,IAAI,CAACC,gBAAgB,CAACC,YAAY,EAAE,CAACC,SAAS,CAC5CC,IAAI,IAAG;MACL,IAAI,CAACT,SAAS,GAAGS,IAAI;IACvB,CAAC,EACDC,GAAG,IAAG;MACJC,OAAO,CAACR,KAAK,CAAC,6BAA6B,EAAEO,GAAG,CAAC;MACjD,IAAI,CAACP,KAAK,GAAG,4CAA4C;IAC3D,CAAC,CACF;EACH;EAEAS,cAAcA,CAAA;IACZ,IAAI,CAACN,gBAAgB,CAACM,cAAc,CAAC,IAAI,CAACX,WAAW,CAAC,CAACO,SAAS,CAC9DC,IAAI,IAAG;MACL,IAAI,CAACT,SAAS,CAACa,IAAI,CAACJ,IAAI,CAAC;MACzB,IAAI,CAACR,WAAW,GAAG,EAAE;IACvB,CAAC,EACDS,GAAG,IAAG;MACJC,OAAO,CAACR,KAAK,CAAC,yBAAyB,EAAEO,GAAG,CAAC;MAC7C,IAAI,CAACP,KAAK,GAAG,yCAAyC;IACxD,CAAC,CACF;EACH;EAEAW,YAAYA,CAACC,QAAa;IACxB,IAAI,CAACb,eAAe,GAAG;MAAE,GAAGa;IAAQ,CAAE;EACxC;EAEAC,cAAcA,CAAA;IACZ,IAAI,CAACV,gBAAgB,CAACU,cAAc,CAAC,IAAI,CAACd,eAAe,CAACe,EAAE,EAAE,IAAI,CAACf,eAAe,CAAC,CAACM,SAAS,CAC3FC,IAAI,IAAG;MACL,MAAMS,KAAK,GAAG,IAAI,CAAClB,SAAS,CAACmB,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAK,IAAI,CAACf,eAAe,CAACe,EAAE,CAAC;MAC7E,IAAIC,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB,IAAI,CAAClB,SAAS,CAACkB,KAAK,CAAC,GAAGT,IAAI;;MAE9B,IAAI,CAACP,eAAe,GAAG,IAAI;IAC7B,CAAC,EACDQ,GAAG,IAAG;MACJC,OAAO,CAACR,KAAK,CAAC,0BAA0B,EAAEO,GAAG,CAAC;MAC9C,IAAI,CAACP,KAAK,GAAG,0CAA0C;IACzD,CAAC,CACF;EACH;EAEAkB,cAAcA,CAACJ,EAAU;IACvB,IAAI,CAACX,gBAAgB,CAACe,cAAc,CAACJ,EAAE,CAAC,CAACT,SAAS,CAChDC,IAAI,IAAG;MACL,IAAI,CAACT,SAAS,GAAG,IAAI,CAACA,SAAS,CAACsB,MAAM,CAACF,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAKA,EAAE,CAAC;IAC1D,CAAC,EACDP,GAAG,IAAG;MACJC,OAAO,CAACR,KAAK,CAAC,4BAA4B,EAAEO,GAAG,CAAC;MAChD,IAAI,CAACP,KAAK,GAAG,4CAA4C;IAC3D,CAAC,CACF;EACH;CACD;AApEYN,kBAAkB,GAAA0B,UAAA,EAL9B3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW7B,kBAAkB,CAoE9B;SApEYA,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}