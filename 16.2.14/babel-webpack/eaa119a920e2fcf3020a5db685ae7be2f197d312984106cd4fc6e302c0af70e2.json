{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/producto.service\";\nclass ProductosComponent {\n  constructor(productosService) {\n    this.productosService = productosService;\n    this.productos = [];\n    this.newProducto = {\n      nombre: '',\n      tipo: '',\n      precio: 0,\n      descripcion: '',\n      imagen_pro: '',\n      admin_id: 1\n    };\n    this.editingProducto = null;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.loadProductos();\n  }\n  loadProductos() {\n    this.productosService.getProductos().subscribe(data => {\n      this.productos = data;\n    }, err => {\n      console.error('Error obteniendo productos:', err);\n      this.error = 'Error en el servidor al obtener productos.';\n    });\n  }\n  createProducto() {\n    this.productosService.createProducto(this.newProducto).subscribe(data => {\n      this.productos.push(data);\n      this.newProducto = {\n        nombre: '',\n        tipo: '',\n        precio: 0,\n        descripcion: '',\n        imagen_pro: '',\n        admin_id: 1\n      };\n    }, err => {\n      console.error('Error creando producto:', err);\n      this.error = 'Error en el servidor al crear producto.';\n    });\n  }\n  editProducto(producto) {\n    this.editingProducto = {\n      ...producto\n    };\n  }\n  updateProducto() {\n    this.productosService.updateProducto(this.editingProducto.id, this.editingProducto).subscribe(data => {\n      const index = this.productos.findIndex(p => p.id === this.editingProducto.id);\n      if (index !== -1) {\n        this.productos[index] = data;\n      }\n      this.editingProducto = null;\n    }, err => {\n      console.error('Error editando producto:', err);\n      this.error = 'Error en el servidor al editar producto.';\n    });\n  }\n  deleteProducto(id) {\n    this.productosService.deleteProducto(id).subscribe(data => {\n      this.productos = this.productos.filter(p => p.id !== id);\n    }, err => {\n      console.error('Error eliminando producto:', err);\n      this.error = 'Error en el servidor al eliminar producto.';\n    });\n  }\n  static #_ = this.ɵfac = function ProductosComponent_Factory(t) {\n    return new (t || ProductosComponent)(i0.ɵɵdirectiveInject(i1.ProductosService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductosComponent,\n    selectors: [[\"app-productos\"]],\n    decls: 0,\n    vars: 0,\n    template: function ProductosComponent_Template(rf, ctx) {},\n    styles: [\".productos-container[_ngcontent-%COMP%] {\\n    max-width: 800px;\\n    margin: 0 auto;\\n    padding: 20px;\\n    border: 1px solid #ccc;\\n    border-radius: 5px;\\n  }\\n  \\n  .productos-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    list-style-type: none;\\n    padding: 0;\\n  }\\n  \\n  .productos-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n  }\\n  \\n  .error-message[_ngcontent-%COMP%] {\\n    color: red;\\n    margin-bottom: 20px;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2NvbXBvbmVudGVzL3Byb2R1Y3Rvcy9wcm9kdWN0b3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxxQkFBcUI7SUFDckIsVUFBVTtFQUNaOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsVUFBVTtJQUNWLG1CQUFtQjtFQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9kdWN0b3MtY29udGFpbmVyIHtcclxuICAgIG1heC13aWR0aDogODAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIH1cclxuICBcclxuICAucHJvZHVjdG9zLWNvbnRhaW5lciB1bCB7XHJcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gIH1cclxuICBcclxuICAucHJvZHVjdG9zLWNvbnRhaW5lciBsaSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuICBcclxuICAuZXJyb3ItbWVzc2FnZSB7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { ProductosComponent };","map":{"version":3,"names":["ProductosComponent","constructor","productosService","productos","newProducto","nombre","tipo","precio","descripcion","imagen_pro","admin_id","editingProducto","error","ngOnInit","loadProductos","getProductos","subscribe","data","err","console","createProducto","push","editProducto","producto","updateProducto","id","index","findIndex","p","deleteProducto","filter","_","i0","ɵɵdirectiveInject","i1","ProductosService","_2","selectors","decls","vars","template","ProductosComponent_Template","rf","ctx","styles"],"sources":["C:\\Users\\980030881\\OneDrive\\Escritorio\\proyecto_web\\frontend\\componentes\\productos\\productos.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ProductosService } from 'src/app/services/producto.service';\n\n@Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})\nexport class ProductosComponent implements OnInit {\n  productos: any[] = [];\n  newProducto: any = {\n    nombre: '',\n    tipo: '',\n    precio: 0,\n    descripcion: '',\n    imagen_pro: '',\n    admin_id: 1\n  };\n  editingProducto: any = null;\n  error = '';\n\n  constructor(private productosService: ProductosService) { }\n\n  ngOnInit(): void {\n    this.loadProductos();\n  }\n\n  loadProductos(): void {\n    this.productosService.getProductos().subscribe(\n      data => {\n        this.productos = data;\n      },\n      err => {\n        console.error('Error obteniendo productos:', err);\n        this.error = 'Error en el servidor al obtener productos.';\n      }\n    );\n  }\n\n  createProducto(): void {\n    this.productosService.createProducto(this.newProducto).subscribe(\n      data => {\n        this.productos.push(data);\n        this.newProducto = {\n          nombre: '',\n          tipo: '',\n          precio: 0,\n          descripcion: '',\n          imagen_pro: '',\n          admin_id: 1\n        };\n      },\n      err => {\n        console.error('Error creando producto:', err);\n        this.error = 'Error en el servidor al crear producto.';\n      }\n    );\n  }\n\n  editProducto(producto: any): void {\n    this.editingProducto = { ...producto };\n  }\n\n  updateProducto(): void {\n    this.productosService.updateProducto(this.editingProducto.id, this.editingProducto).subscribe(\n      data => {\n        const index = this.productos.findIndex(p => p.id === this.editingProducto.id);\n        if (index !== -1) {\n          this.productos[index] = data;\n        }\n        this.editingProducto = null;\n      },\n      err => {\n        console.error('Error editando producto:', err);\n        this.error = 'Error en el servidor al editar producto.';\n      }\n    );\n  }\n\n  deleteProducto(id: number): void {\n    this.productosService.deleteProducto(id).subscribe(\n      data => {\n        this.productos = this.productos.filter(p => p.id !== id);\n      },\n      err => {\n        console.error('Error eliminando producto:', err);\n        this.error = 'Error en el servidor al eliminar producto.';\n      }\n    );\n  }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}